---
import './SectionContainer.scss';

interface Props {
    sectionId?: string;
    ctaText?: string;
    ctaHref?: string;
    contentWidth?: boolean;
    className?: string;
    noTopMargin?: boolean;
}

const {
    sectionId,
    ctaText,
    ctaHref,
    contentWidth = true,
    className = '',
    noTopMargin = false,
} = Astro.props;

const hasHeading = Astro.slots.has('heading');
const showHeadingRow = hasHeading || (ctaText && ctaHref);
---

<section 
    id={sectionId} 
    class:list={['section-generic', className, { 'no-top-margin': noTopMargin }]}
>
    <div class:list={[contentWidth ? 'struct' : 'struct-width']}>
        {showHeadingRow && (
            <div class="heading-row">
                <slot name="heading" />
                {ctaText && ctaHref && (
                    <a href={ctaHref} class="cta-link">{ctaText}</a>
                )}
            </div>
        )}
        <slot />
    </div>
</section>